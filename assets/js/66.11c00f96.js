(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{628:function(e,t,s){"use strict";s.r(t);var a=s(17),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("blockquote",[s("p",[e._v("摘要: 相信每个人都想拥有一个博客, 一个属于自己写作的地方，今天讲讲如何用VuePress和github Github Pages打造一个属于自己的博客，不用建站，也不用域名的轻量级博客, 关键还支持markdown写作, 大大提高了写作的好感度。本文首发于公众号:  "),s("code",[e._v("漫步coding")])])]),e._v(" "),s("h3",{attrs:{id:"博客地址如下"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#博客地址如下"}},[e._v("#")]),e._v(" 博客地址如下：")]),e._v(" "),s("ul",[s("li",[e._v("博客地址: "),s("a",{attrs:{href:"https://easyhappy.github.io/travel-coding/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://easyhappy.github.io/travel-coding/"),s("OutboundLink")],1)]),e._v(" "),s("li",[e._v("代码地址: "),s("a",{attrs:{href:"https://github.com/easyhappy/travel-coding",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/easyhappy/travel-coding"),s("OutboundLink")],1)])]),e._v(" "),s("p",[e._v("大家可以打开看看效果:")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://images.xiaozhuanlan.com/uploads/photo/2022/dc70d9a9-6adc-45f8-800a-f239cbe251b5.png",alt:""}})]),e._v(" "),s("h3",{attrs:{id:"vuepress"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuepress"}},[e._v("#")]),e._v(" VuePress")]),e._v(" "),s("p",[e._v("VuePress 自然不用多说，基于 Vue 的静态网站生成器，风格简约，配置也比较简单。之所以不使用 VitePress，是因为想使用现有的主题， 而 VitePress 不兼容当前 VuePress 的生态系统，至于为什么不选择 VuePress@next，考虑到还处于 Beta 阶段，等稳定后再开始迁移。")]),e._v(" "),s("h3",{attrs:{id:"安装过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装过程"}},[e._v("#")]),e._v(" 安装过程")]),e._v(" "),s("p",[e._v("目前我用的node版本是: v16.14.2, 大家在安装之前要检查一下自己的node版本, 太低了可能安装不了。")]),e._v(" "),s("p",[e._v("大家也可以看VuePress的官网教程: https://v2.vuepress.vuejs.org/guide/getting-started.html")]),e._v(" "),s("p",[e._v("1、创建项目")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("mkdir vuepress-starter\ncd vuepress-starter\n")])])]),s("p",[e._v("2、初始化项目")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git init\nyarn init\n")])])]),s("p",[e._v("3、安装VuePress")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("yarn add -D vuepress\n")])])]),s("p",[e._v("4、将下面的script 添加到package.json中")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('{\n  "scripts": {\n    "docs:dev": "vuepress dev docs",\n    "docs:build": "vuepress build docs"\n  }\n}\n')])])]),s("p",[e._v("5、创建第一个文件")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("mkdir docs\necho '# Hello VuePress' > docs/README.md\n")])])]),s("p",[e._v("6、运行下面的命令启动local server")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("yarn docs:dev\n")])])]),s("p",[e._v("这时你访问http://localhost:8080/，如果能出现以下界面，说明到你已经搭建好了博客。")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://images.xiaozhuanlan.com/uploads/photo/2022/1f2efce4-7317-4d1f-8fc4-795c923c9d44.png",alt:""}})]),e._v(" "),s("p",[e._v("7、基础配置")]),e._v(" "),s("p",[e._v("在docs目录下创建一个 .vuepress 目录，所有 VuePress 相关的文件都会被放在这里。")]),e._v(" "),s("p",[e._v("命令")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("mkdir docs/.vuepress\ntouch docs/.vuepress/config.js\n")])])]),s("p",[e._v("此时你的项目结构可能是这样：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v(".\n├─ docs\n│  ├─ README.md\n│  └─ .vuepress\n│     └─ config.js\n└─ package.json\n")])])]),s("p",[e._v("8、在 .vuepress 文件夹下添加 config.js，配置网站的标题和描述，方便 SEO：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cat > docs/.vuepress/config.js\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("module.exports = {\n  title: '漫步coding的博客',\n  description: '公众号: 漫步coding, 欢迎大家关注， 一个聚焦于算法、数据库、架构的公众号'\n}\n\n")])])]),s("p",[e._v("这个时候就可以看到网站title 已经变成了: 漫步coding的博客")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://images.xiaozhuanlan.com/uploads/photo/2022/722bb0a7-edb5-4e37-b46a-df95cbb92abe.png",alt:""}})]),e._v(" "),s("p",[e._v("9、添加导航栏")]),e._v(" "),s("p",[e._v("我们现在在页首的右上角添加导航栏，修改 config.js:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("module.exports = {\n  title: '漫步coding的博客',\n  description: '公众号: 漫步coding, 欢迎大家关注， 一个聚焦于算法、数据库、架构的公众号',\n  themeConfig: {\n    nav: [\n      { text: '首页', link: '/' },\n      { \n          text: '漫步coding 博客', \n          items: [\n              { text: 'Github', link: 'https://github.com/easyhappy/travel-coding' },\n              { text: '公众号', link: 'https://mp.weixin.qq.com/s/Npkk0oHEszZrUP2yRiTaSA' }\n          ]\n      }\n    ]\n  }\n}\n")])])]),s("p",[e._v("运行效果如下:")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://images.xiaozhuanlan.com/uploads/photo/2022/cad03c42-c7f5-44ee-9acc-228a0dc17618.png",alt:""}})]),e._v(" "),s("p",[e._v("10、添加左侧边栏")]),e._v(" "),s("p",[e._v("现在我们添加一些 md 文档，目前文档的目录如下：")]),e._v(" "),s("p",[e._v("运行以下命令")]),e._v(" "),s("p",[e._v("命令1:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("mkdir docs/about\ncat > docs/about/brief.md\nHello 大家好，我是公众号: 漫步coding 的作者, 很高兴我们能在这里相聚。可以关注公众号, 一起交流。\n")])])]),s("p",[e._v("命令2:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("mkdir docs/mysql\ncat >  docs/mysql/brief\n\n一般来讲在面试当中， 关于数据库相关的面试题频率出现比较高的几个关键词是SQL优化、索引、存储引擎、事务、死锁、乐观锁、悲观锁、关系型数据库和非关系数据库对比等等。 把这几个点问完基本也差不多10~20分钟了(一般一轮面试1小时左右), 基本这些可以让面试官对你的数据库知识有一定的了解了。\n\n如果你线上运维经验, 一般也会问一些比如数据库扩容, 如何给大表加索引, 如何在业务高峰是给一个大表添加字段等。\n")])])]),s("p",[e._v("目前文档的目录如下：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v(".\n├─ docs\n│  ├─ README.md\n│  └─ .vuepress\n│     └─ config.js\n |  └─ mysql\n |      └─ brief.md\n |  └─ about\n |      └─ brief.md\n |\n└─ package.json\n")])])]),s("p",[e._v("11、设置docs/.vuepressconfig.js sidebar模块, 添加左侧导航栏, 完成设置如下:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("module.exports = {\n  title: '漫步coding的博客',\n  description: '公众号: 漫步coding, 欢迎大家关注， 一个聚焦于算法、数据库、架构的公众号',\n  themeConfig: {\n    nav: [\n      { text: '首页', link: '/' },\n      { \n          text: '漫步coding 博客', \n          items: [\n              { text: 'Github', link: 'https://github.com/easyhappy/travel-coding' },\n              { text: '公众号', link: 'https://mp.weixin.qq.com/s/Npkk0oHEszZrUP2yRiTaSA' }\n          ]\n      }\n    ],\n    sidebar: [\n        {\n          title: 'mysql',\n          path: '/',\n          collapsable: false, // 不折叠\n          children: [\n              { title: \"前言\", path: \"/mysql/brief\"},\n          ]\n        },\n\n        {\n          title: '关于我',\n          path: '/',\n          collapsable: false, // 不折叠\n          children: [\n              { title: \"公众号\", path: \"/about/brief\"},\n          ]\n        }\n      ]\n  }\n}\n")])])]),s("p",[e._v("效果图如下:")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://images.xiaozhuanlan.com/uploads/photo/2022/39ca6560-5cb2-4ed5-b257-38506719cc2f.png!large",alt:""}})]),e._v(" "),s("p",[e._v("12、设置博客主题")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("yarn add vuepress-theme-reco\n")])])]),s("p",[e._v("将以下代码放到config.js中")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("module.exports = {\n  // ...\n  theme: 'reco'\n  // ...\n}  \n")])])]),s("p",[e._v("就可以自主设置显示模式了。")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://images.xiaozhuanlan.com/uploads/photo/2022/b30be0eb-edd6-46a4-a92e-b2b06bae9e44.png",alt:""}})]),e._v(" "),s("p",[e._v("13、此时基本完成了VuePress的搭建, 下面就是将博客发布到Github Page上。我们在 Github 上新建一个仓库，这里我取得仓库名为：travel-coding。")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("module.exports = {\n    // 路径名为 \"/<您建的REPO名字>/\"\n    base: '/travel-coding/',\n    //...\n}\n")])])]),s("p",[e._v("14、将下面添加一些文件或者目录放到.gitignore文件中.")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("echo 'node_modules' >> .gitignore\necho '.temp' >> .gitignore\necho '.cache' >> .gitignore\n")])])]),s("p",[e._v("15、然后我们在项目 vuepress-starter 目录下建立一个脚本文件：deploy.sh，注意修改一下对应的用户名和仓库名：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("#!/usr/bin/env sh\n\n# 确保脚本抛出遇到的错误\nset -e\n\n# 生成静态文件\nnpm run docs:build\n\n# 进入生成的文件夹\ncd docs/.vuepress/dist\n\ngit init\ngit add -A\ngit commit -m 'deploy'\n\n### imporant 注意替换 如果发布到 https://<USERNAME>.github.io/<REPO>\ngit push -f git@github.com:easyhappy/travel-coding.git master:gh-pages\n\ncd -\n")])])]),s("p",[e._v("16、运行命令, 会将编译好的博客文件, push到github 项目的gh-pages")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("sh deploy.sh\n")])])]),s("p",[e._v("17、在项目的Settings -> Pages 就可以看到对应的博客地址， 也可以自己设置根目录和自定义域名")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://images.xiaozhuanlan.com/uploads/photo/2022/d4572751-b084-4219-b882-5f28e11a9549.png",alt:""}})]),e._v(" "),s("p",[e._v("我最后生成的博客地址: "),s("a",{attrs:{href:"https://easyhappy.github.io/travel-coding/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://easyhappy.github.io/travel-coding/"),s("OutboundLink")],1),s("br"),e._v("\n代码地址: "),s("a",{attrs:{href:"https://github.com/easyhappy/travel-coding",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/easyhappy/travel-coding"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("到此为止, 我们就完成了 VuePress 和 Github Pages 的部署。")]),e._v(" "),s("p",[e._v("让我们一起漫步coding, enjoy your self.")]),e._v(" "),s("p",[e._v("18、扩展篇 给博客添加评论功能")]),e._v(" "),s("p",[e._v("a)、创建 GitHub OAuth App")]),e._v(" "),s("p",[e._v("这里我们使用 GitHub 作为托管平台，打开 GitHub 的开发者设置：https://github.com/settings/developers")]),e._v(" "),s("p",[e._v("b)、选择「Oauth Apps」，然后点击「Register a new application」:")]),e._v(" "),s("p",[e._v("我用的是 vuepress-theme-reco 主题，主题内置评论插件 @vuepress-reco/vuepress-plugin-comments，可以根据自己的喜好选择 Valine 或者 Vssue。")]),e._v(" "),s("p",[e._v("c)、修改 config.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("\nmodule.exports = {\n  ...\n  theme: 'reco',\n  themeConfig: {\n    vssueConfig: {\n      platform: 'github',\n      owner: 'OWNER_OF_REPO',\n      repo: 'NAME_OF_REPO',\n      clientId: 'YOUR_CLIENT_ID',\n      clientSecret: 'YOUR_CLIENT_SECRET',\n    }\n  }\n  ...\n}\n\n")])])]),s("p",[e._v("重新部署一下, 就可以看到效果了:")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://images.xiaozhuanlan.com/uploads/photo/2022/f658db90-e44b-4054-a925-8b518ceab5fd.png",alt:""}})])])}),[],!1,null,null,null);t.default=n.exports}}]);